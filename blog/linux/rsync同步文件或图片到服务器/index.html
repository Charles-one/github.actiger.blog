<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <title>RsyncåŒæ­¥æ–‡ä»¶æˆ–å›¾ç‰‡åˆ°æœåŠ¡å™¨ - Actigerè·³è·³è™</title>
    
    <meta name="description" content="1. ä¸Šæ¬¡ç”¨nginxåšäº†é™æ€èµ„æº, å›¾ç‰‡å›¾åºŠ. åŒæ­¥æ˜¯ä¸ªé—®é¢˜.  å•çº¯ä½¿ç”¨scpæ¯æ¬¡ä¼ è¾“, è¦†ç›–æ–‡ä»¶, æ–‡ä»¶æ›´æ–°æ—¶é—´å°±æ²¡äº†. æ€è€ƒæœ‰æ²¡æœ‰æ›´å¥½çš„å·¥å…·.  2. ç½‘ä¸ŠæŸ¥è¯¢å‘ç°rsync, åŒæ­¥ç¥å™¨äº†. å®‰è£…, Homebrew. brew install rsync å‚æ•°è§£é‡Š-rç›®å½•é€’å½’,uå¢é‡æ›´æ–°(æœ¬åœ°æ–‡ä»¶æ—¶é—´æ¯”ä¸Šæ ‡æ–‡ä»¶æ–°æ‰æ›´æ–°), tä¿ç•™ä¿®æ”¹æ—¶é—´. &ndash;excludeæ’é™¤æ–‡ä»¶ ${HOME}/Pictures/img/è¡¨ç¤ºä¸Šä¼ imgæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶, ä¸ä¸Šä¼ img. ${HOME}/Pictures/imgè¡¨ç¤ºä¸Šä¼ imgè¿™ä¸ªæ–‡ä»¶å¤¹. æ‰€ä»¥è¿™ä¸ªè¦æ³¨æ„
vim .zshrc # rsync alias up=&quot;rsync -rut --exclude &#39;.DS_Store&#39;&quot; uponestoblog(){ echo &quot;Upload Files...&quot; SERVER_FOLDER=&quot;img/blog/&quot; for i in &quot;$@&quot;; do rsync -rut --exclude &#39;.DS_Store&#39; $i b:${SERVER_FOLDER} done } upblog(){ LOCAL_FOLDER=&quot;${HOME}/Pictures/img/blog/&quot; SERVER_FOLDER=&quot;img/blog/&quot; echo &quot;Upload ${LOCAL_FOLDER} b:${SERVER_FOLDER}&quot; rsync -rut --exclude &#39;.DS_Store&#39; ${LOCAL_FOLDER} b:${SERVER_FOLDER} } upimg(){ LOCAL_FOLDER=&quot;${HOME}/Pictures/img/&quot; SERVER_FOLDER=&quot;img/&quot; echo &quot;Upload ${LOCAL_FOLDER} b:${SERVER_FOLDER}&quot; rsync -rut --exclude &#39;.">
    <meta name="author" content="">
    
    <link href="https://charles-one.github.io/actiger/an-old-hope.min.css" rel="stylesheet">
    <link href="https://charles-one.github.io/actiger/style.css" rel="stylesheet">
    
    <link rel="apple-touch-icon" href="https://charles-one.github.io/actiger/apple-touch-icon.png">
    <link rel="icon" href="https://charles-one.github.io/actiger/favicon.ico">
    <meta name="generator" content="Hugo 0.74.3" />
    
    <link rel="alternate" type="application/atom+xml" href="https://charles-one.github.io/actiger/index.xml" title="Actigerè·³è·³è™">
    
    
    <script>
      function setTheme() {
        const time = new Date();

        const prev = localStorage.getItem('date');
        const date = String(time.getMonth() + 1) + '.' + String(time.getDate());

        const now = time.getTime();
        let sunrise;
        let sunset;

        function setBodyClass() {
          if (now > sunrise && now < sunset) return;
          document.body.classList.add('dark');
        }

        if (date !== prev) {
          fetch('https://api.ipgeolocation.io/astronomy?apiKey=5ed37d85103e4defa5df4c5298ed5215')
            .then(res => res.json())
            .then(data => {
              sunrise = data.sunrise.split(':').map(Number);
              sunset = data.sunset.split(':').map(Number);
            })
            .catch(() => {
              sunrise = [7, 0];
              sunset = [19, 0];
            })
            .finally(() => {
              sunrise = time.setHours(sunrise[0], sunrise[1], 0);
              sunset = time.setHours(sunset[0], sunset[1], 0);
              setBodyClass();
              localStorage.setItem('sunrise', sunrise);
              localStorage.setItem('sunset', sunset);
            });
          localStorage.setItem('date', date);
        } else {
          sunrise = Number(localStorage.getItem('sunrise'));
          sunset = Number(localStorage.getItem('sunset'));
          setBodyClass();
        }
      }
    </script>
  </head>
  <body class="single">
    <script>
      setTheme();
    </script>
    <header class="header">
      <nav class="nav">
        <p class="logo"><a href="https://charles-one.github.io/actiger/">Actigerè·³è·³è™</a></p>
      </nav>
    </header>
    <main class="main">


<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">RsyncåŒæ­¥æ–‡ä»¶æˆ–å›¾ç‰‡åˆ°æœåŠ¡å™¨</h1>
    <div class="post-meta">September 12, 2020</div>
  </header>
  <div class="post-content"><h3 id="1-ä¸Šæ¬¡ç”¨nginxåšäº†é™æ€èµ„æº-å›¾ç‰‡å›¾åºŠ-åŒæ­¥æ˜¯ä¸ªé—®é¢˜">1. ä¸Šæ¬¡ç”¨nginxåšäº†é™æ€èµ„æº, å›¾ç‰‡å›¾åºŠ. åŒæ­¥æ˜¯ä¸ªé—®é¢˜.</h3>
<ol>
<li>å•çº¯ä½¿ç”¨scpæ¯æ¬¡ä¼ è¾“, è¦†ç›–æ–‡ä»¶, æ–‡ä»¶æ›´æ–°æ—¶é—´å°±æ²¡äº†.</li>
<li>æ€è€ƒæœ‰æ²¡æœ‰æ›´å¥½çš„å·¥å…·.</li>
</ol>
<h3 id="2-ç½‘ä¸ŠæŸ¥è¯¢å‘ç°rsync-åŒæ­¥ç¥å™¨äº†">2. ç½‘ä¸ŠæŸ¥è¯¢å‘ç°rsync, åŒæ­¥ç¥å™¨äº†.</h3>
<h4 id="å®‰è£…-homebrew">å®‰è£…, Homebrew.</h4>
<pre><code>brew install rsync
</code></pre><h4 id="å‚æ•°è§£é‡Š-rç›®å½•é€’å½’uå¢é‡æ›´æ–°æœ¬åœ°æ–‡ä»¶æ—¶é—´æ¯”ä¸Šæ ‡æ–‡ä»¶æ–°æ‰æ›´æ–°-tä¿ç•™ä¿®æ”¹æ—¶é—´---excludeæ’é™¤æ–‡ä»¶">å‚æ•°è§£é‡Š-rç›®å½•é€’å½’,uå¢é‡æ›´æ–°(æœ¬åœ°æ–‡ä»¶æ—¶é—´æ¯”ä¸Šæ ‡æ–‡ä»¶æ–°æ‰æ›´æ–°), tä¿ç•™ä¿®æ”¹æ—¶é—´. &ndash;excludeæ’é™¤æ–‡ä»¶</h4>
<p><strong>${HOME}/Pictures/img/</strong>è¡¨ç¤ºä¸Šä¼ imgæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶, ä¸ä¸Šä¼ img.
<strong>${HOME}/Pictures/img</strong>è¡¨ç¤ºä¸Šä¼ imgè¿™ä¸ªæ–‡ä»¶å¤¹.
<strong>æ‰€ä»¥è¿™ä¸ªè¦æ³¨æ„</strong></p>
<h4 id="vim-zshrc">vim .zshrc</h4>
<pre><code># rsync

alias up=&quot;rsync -rut --exclude '.DS_Store'&quot;

uponestoblog(){
    echo &quot;Upload Files...&quot;
    SERVER_FOLDER=&quot;img/blog/&quot;
    for i in &quot;$@&quot;; do
        rsync -rut --exclude '.DS_Store' $i b:${SERVER_FOLDER}
    done
}
upblog(){
    LOCAL_FOLDER=&quot;${HOME}/Pictures/img/blog/&quot;
    SERVER_FOLDER=&quot;img/blog/&quot;
    echo &quot;Upload ${LOCAL_FOLDER} b:${SERVER_FOLDER}&quot;
    rsync -rut --exclude '.DS_Store' ${LOCAL_FOLDER} b:${SERVER_FOLDER}
}

upimg(){
    LOCAL_FOLDER=&quot;${HOME}/Pictures/img/&quot;
    SERVER_FOLDER=&quot;img/&quot;
    echo &quot;Upload ${LOCAL_FOLDER} b:${SERVER_FOLDER}&quot;
    rsync -rut --exclude '.DS_Store' ${LOCAL_FOLDER} b:${SERVER_FOLDER}
}

</code></pre><h4 id="é‡æ–°ç”Ÿæ•ˆzshrc">é‡æ–°ç”Ÿæ•ˆ.zshrc</h4>
<pre><code>source .zshrc
</code></pre><h3 id="3-å¼€å¿ƒä¸Šä¼ å›¾åºŠäº†-å¹³æ—¶ç”¨çš„å°±å‡ ä¸ªæ–‡ä»¶å¤¹-éœ€è¦å‚æ•°åŒ–å˜›">3. å¼€å¿ƒä¸Šä¼ å›¾åºŠäº†, å¹³æ—¶ç”¨çš„å°±å‡ ä¸ªæ–‡ä»¶å¤¹, éœ€è¦å‚æ•°åŒ–å˜›ğŸ˜ƒ</h3>
<h4 id="ä½¿ç”¨aliasé‡å‘½åçš„upå‘½ä»¤-bæ˜¯æœåŠ¡å™¨åç§°a-target_blank-hrefhttpswwwactigercombloglinuxsshå¯†é’¥ç”Ÿæˆé…ç½®å’Œç™»é™†æœåŠ¡å™¨ä¸githubä½¿ç”¨é’¥åŒ™å‚è€ƒsshå¯†é’¥é…ç½®a">ä½¿ç”¨aliasé‡å‘½åçš„upå‘½ä»¤, bæ˜¯æœåŠ¡å™¨åç§°.<a target="_blank" href="https://www.actiger.com/blog/linux/sshå¯†é’¥ç”Ÿæˆé…ç½®å’Œç™»é™†æœåŠ¡å™¨ä¸githubä½¿ç”¨é’¥åŒ™/">å‚è€ƒSSHå¯†é’¥é…ç½®</a></h4>
<pre><code>upimg

# æˆ–è€…upå‘½ä»¤
up ~/Pictures/img/ b:img/
</code></pre><p><a target="_blank" href="https://img.actiger.com">img.actiger.com</a></p>
</div>
  
</article></main>
<footer class="footer">
  <span>&copy; 2020 <a href="https://charles-one.github.io/actiger/">Actigerè·³è·³è™</a></span>
  <span>&middot;</span>
  <span><a href="https://gohugo.io/" rel="noopener" target="_blank">Powered by Hugoï¸ï¸</a>ï¸</span>
  <span>&middot;</span>
  <span><a href="https://github.com/nanxiaobei/hugo-paper" rel="noopener" target="_blank">Themeï¸ Paper</a></span>
  <span>&middot;</span>
  <span><a href="https://github.com/charles-one/" rel="noopener" target="_blank">Github Me</a></span>
</footer>
<script src="https://charles-one.github.io/actiger/highlight.min.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>
</body>
</html>

