<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <title>Actigerè·³è·³è™</title>
    
    <meta name="description" content="">
    <meta name="author" content="">
    
    <link href="https://charles-one.github.io/actiger/an-old-hope.min.css" rel="stylesheet">
    <link href="https://charles-one.github.io/actiger/style.css" rel="stylesheet">
    
    <link rel="apple-touch-icon" href="https://charles-one.github.io/actiger/apple-touch-icon.png">
    <link rel="icon" href="https://charles-one.github.io/actiger/favicon.ico">
    <meta name="generator" content="Hugo 0.57.2" />
    
    <link rel="alternate" type="application/atom+xml" href="https://charles-one.github.io/actiger/index.xml" title="Actigerè·³è·³è™">
    
    
    <script>
      function setTheme() {
        const time = new Date();

        const prev = localStorage.getItem('date');
        const date = String(time.getMonth() + 1) + '.' + String(time.getDate());

        const now = time.getTime();
        let sunrise;
        let sunset;

        function setBodyClass() {
          if (now > sunrise && now < sunset) return;
          document.body.classList.add('dark');
        }

        if (date !== prev) {
          fetch('https://api.ipgeolocation.io/astronomy?apiKey=5ed37d85103e4defa5df4c5298ed5215')
            .then(res => res.json())
            .then(data => {
              sunrise = data.sunrise.split(':').map(Number);
              sunset = data.sunset.split(':').map(Number);
            })
            .catch(() => {
              sunrise = [7, 0];
              sunset = [19, 0];
            })
            .finally(() => {
              sunrise = time.setHours(sunrise[0], sunrise[1], 0);
              sunset = time.setHours(sunset[0], sunset[1], 0);
              setBodyClass();
              localStorage.setItem('sunrise', sunrise);
              localStorage.setItem('sunset', sunset);
            });
          localStorage.setItem('date', date);
        } else {
          sunrise = Number(localStorage.getItem('sunrise'));
          sunset = Number(localStorage.getItem('sunset'));
          setBodyClass();
        }
      }
    </script>
  </head>
  <body class="list home">
    <script>
      setTheme();
    </script>
    <header class="header">
      <nav class="nav">
        <h1 class="logo"><a href="https://charles-one.github.io/actiger/">Actigerè·³è·³è™</a></h1>
      </nav>
    </header>
    <main class="main">

<article class="post-entry">
  <header class="entry-header">
    <h2>Mocoç¤ºä¾‹</h2>
  </header>
  <section class="entry-content">
   <p>1. Mocoæ˜¯ä»€ä¹ˆ? ç®€å•çš„æ¨¡æ‹ŸæœåŠ¡å™¨çš„ç¨‹åºåº“/å·¥å…·, æœ‰è¯·æ±‚ç»™å‡ºå“åº”.åœ¨åœ°å€ä¸­ä¸‹è½½moco-runner-0.12.0-standalone.jar. 2. ä½¿ç”¨ç¤ºä¾‹ 1. åˆ›å»ºtest.json [ { &#34;description&#34;: &#34;First test&#34;, &#34;request&#34;: { &#34;uri&#34;: &#34;/demo&#34; }, &#34;response&#34;: { &#34;text&#34;: &#34;First Response&#34; } } ]  2. å‘½ä»¤è¡Œå¯åŠ¨æœåŠ¡, moco-runner-0.12.0-standalone.jarä¸test.jsonåœ¨ç›¸åŒç›®å½•ä¸‹.  java -jar ./moco-runner-0.12.0-standalone.jar http -p 8888 -c test.json  3. éªŒè¯ è®¿é—®http://localhost:8888/demo 2. æ¨¡æ‹Ÿä¸€ä¸ªå¸¦å‚æ•°çš„è¯·æ±‚, para.json [ { &#34;description&#34;: &#34;æ¨¡æ‹Ÿä¸€ä¸ªæœ‰å‚æ•°çš„Getè¯·æ±‚&#34;, &#34;request&#34;: { &#34;uri&#34;: &#34;/getpara&#34;, &#34;method&#34;: &#34;get&#34;, &#34;queries&#34;: { &#34;name&#34;: &#34;xiaoming&#34;, &#34;age&#34;: &#34;20&#34; } }, &#34;response&#34;: { &#34;text&#34;: &#34;I am on the way....</p>
  </section>
  <footer class="entry-footer">
    <time>June 16, 2019</time>
  </footer>
  <a class="entry-link" href="https://charles-one.github.io/actiger/test/moco%E7%A4%BA%E4%BE%8B/"></a>
</article>
<article class="post-entry">
  <header class="entry-header">
    <h2>TestNGç”Ÿæˆæµ‹è¯•æŠ¥å‘Š</h2>
  </header>
  <section class="entry-content">
   <p>1. ä½¿ç”¨çš„extentreportsç”Ÿæˆçš„æµ‹è¯•æŠ¥å‘Š, æŠ¥å‘Šä¸­ä½¿ç”¨çš„cssæ–‡ä»¶éœ€è¦ä¸Šå¼º(å¢™) &lt;dependency&gt; &lt;groupId&gt;com.aventstack&lt;/groupId&gt; &lt;artifactId&gt;extentreports&lt;/artifactId&gt; &lt;version&gt;4.0.9&lt;/version&gt; &lt;/dependency&gt;  æµ‹è¯•æ–¹æ³• package com.actiger.reports; import org.testng.Assert; import org.testng.Reporter; import org.testng.annotations.Test; public class TestReport { @Test public void test1(){ Assert.assertEquals(1,2); } @Test public void test2(){ Assert.assertEquals(1,1); } @Test public void test3(){ Assert.assertEquals(3,3); } @Test public void log1(){ Reporter.log(&#34;è¿™æ˜¯æ—¥å¿—&#34;); throw new RuntimeException(&#34;è¿™æ˜¯ä¸€ä¸ªå¼‚å¸¸&#34;); } }  é…ç½®çš„xml &lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt; &lt;suite name=&#34;mytest&#34;&gt; &lt;test name=&#34;test&#34;&gt; &lt;classes&gt; &lt;class name=&#34;com.actiger.reports.TestReport&#34;&gt; &lt;method&gt; &lt;include name=&#34;test1&#34;&gt;&lt;/include&gt; &lt;include name=&#34;test2&#34;&gt;&lt;/include&gt; &lt;include name=&#34;test3&#34;&gt;&lt;/include&gt; &lt;include name=&#34;log1&#34;&gt;&lt;/include&gt; &lt;/method&gt; &lt;/class&gt; &lt;/classes&gt; &lt;/test&gt; &lt;listeners&gt; &lt;listener class-name=&#34;com....</p>
  </section>
  <footer class="entry-footer">
    <time>June 16, 2019</time>
  </footer>
  <a class="entry-link" href="https://charles-one.github.io/actiger/test/testng%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A/"></a>
</article>
<article class="post-entry">
  <header class="entry-header">
    <h2>TestNGè¶…æ—¶æµ‹è¯•</h2>
  </header>
  <section class="entry-content">
   <p> TestNGè¶…æ—¶æµ‹è¯• è¶…å‡ºé¢„æœŸæ—¶é—´åˆ™ç”¨ä¾‹å¤±è´¥ package com.actiger.test.timeout; import org.testng.annotations.Test; public class TimeOut { @Test(timeOut = 3000) public void testSuccess() throws InterruptedException{ Thread.sleep(2000); } @Test(timeOut = 2000) public void testFail() throws InterruptedException{ Thread.sleep(3000); } }  ...</p>
  </section>
  <footer class="entry-footer">
    <time>June 16, 2019</time>
  </footer>
  <a class="entry-link" href="https://charles-one.github.io/actiger/test/testng%E8%B6%85%E6%97%B6%E6%B5%8B%E8%AF%95/"></a>
</article>
<article class="post-entry">
  <header class="entry-header">
    <h2>TestNGå¤šçº¿ç¨‹é…ç½®</h2>
  </header>
  <section class="entry-content">
   <p>1. åœ¨æ–¹æ³•æ³¨é‡Šä¸­é…ç½®å¤šçº¿ç¨‹, é…ç½®çº¿ç¨‹æ±   package com.actiger.test.thread; import org.testng.annotations.Test; public class MultiThread { @Test(invocationCount = 10, threadPoolSize = 3) public void test(){ System.out.println(&#34;1&#34;); System.out.println(&#34;Thread ID:%s%n&#34; &#43; Thread.currentThread().getId()); } }  2. åœ¨xmlä¸­é…ç½®å¤šçº¿ç¨‹, ä¸å¯é…ç½®ä¸ºçº¿ç¨‹æ± . package com.actiger.test.thread; import org.testng.annotations.Test; public class MultiThreadOnXml { @Test public void test1(){ System.out.println(&#34;Thread ID: &#34; &#43; Thread.currentThread().getId()); } @Test public void test2(){ System.out.println(&#34;Thread ID: &#34; &#43; Thread.currentThread().getId()); } @Test public void test3(){ System.out.println(&#34;Thread ID: &#34; &#43; Thread.currentThread().getId()); } }  multiThread....</p>
  </section>
  <footer class="entry-footer">
    <time>June 16, 2019</time>
  </footer>
  <a class="entry-link" href="https://charles-one.github.io/actiger/test/testng%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%85%8D%E7%BD%AE/"></a>
</article>
<article class="post-entry">
  <header class="entry-header">
    <h2>TestNGå‚æ•°åŒ–æµ‹è¯•</h2>
  </header>
  <section class="entry-content">
   <p>1. å‚æ•°åŒ–æµ‹è¯•, ä½¿ç”¨DataProvideræ¥å‚æ•°åŒ–. @Testä¸­dataProviderçš„åå­—ä¸@DataProvideråç§°ä¸€è‡´  @Test(dataProvider = &#34;data&#34;) public void dataProvider(String name, int age){ System.out.println(&#34;Name:&#34; &#43; name &#43; &#34;, &#34; &#43; &#34;Age:&#34; &#43; age); } @DataProvider(name = &#34;data&#34;) public Object[][] data(){ Object[][] oo = new Object[][]{ {&#34;zhangsan&#34;, 18}, {&#34;lisi&#34;, 20}, {&#34;wangwu&#34;, 30} }; return oo; }  2. é’ˆå¯¹ä¸æ–¹æ³•è¯†åˆ«, ä½¿ç”¨ä¸åŒå‚æ•°  @Test(dataProvider = &#34;testMethod&#34;) public void method1(String name, int age){ System.out.println(&#34;Name:&#34; &#43; name &#43; &#34;, &#34; &#43; &#34;Age:&#34; &#43; age &#43; &#34;1111&#34;); } @Test(dataProvider = &#34;testMethod&#34;) public void method2(String name, int age){ System....</p>
  </section>
  <footer class="entry-footer">
    <time>June 15, 2019</time>
  </footer>
  <a class="entry-link" href="https://charles-one.github.io/actiger/test/testng%E5%8F%82%E6%95%B0%E5%8C%96%E6%B5%8B%E8%AF%95/"></a>
</article>
<article class="post-entry">
  <header class="entry-header">
    <h2>TestNGä¾èµ–æµ‹è¯•å’Œxmlæ–‡ä»¶å‚æ•°åŒ–</h2>
  </header>
  <section class="entry-content">
   <p>1. TestNGä¾èµ–æµ‹è¯•, 1ä¸ªç”¨ä¾‹ä¾èµ–å…¶ä»–çš„æµ‹è¯•æ–¹æ³•, æ€ä¹ˆè¡¨ç¤ºè¿™ç§å…³ç³»å‘¢, åœ¨æ³¨è§£ååŠ æ ‡ç­¾dependsOnMethods ä¾‹å¦‚, æ–¹æ³•2å°±ä¾èµ–äºæ–¹æ³•1, å¦‚æœæ–¹æ³•1æ‰§è¡Œå¤±è´¥äº†, æ–¹æ³•2å°±æ— æ³•æ‰§è¡Œäº†.  package com.actiger.test.all; import org.testng.annotations.Test; public class Dependon{ @Test public void dependon1(){ System.out.println(&#34;dependon 1111111&#34;); throw new RuntimeException(); } @Test(dependsOnMethods = {&#34;dependon1&#34;}) public void dependon2(){ System.out.println(&#34;dependon 2222222&#34;); } }  2. TestNGçš„xmlæ–‡ä»¶å‚æ•°åŒ– 1.åˆ›å»ºæ–¹æ³• package com.actiger.test.paramter; import org.testng.annotations.Parameters; import org.testng.annotations.Test; public class ParamterTest { @Test @Parameters({&#34;name&#34;, &#34;age&#34;}) public void paramTest1(String name, int age){ System.out.println(&#34;Name:&#34;&#43; name &#43; &#34;, &#34; &#43; &#34;Age:&#34; &#43; age); } }  2....</p>
  </section>
  <footer class="entry-footer">
    <time>June 13, 2019</time>
  </footer>
  <a class="entry-link" href="https://charles-one.github.io/actiger/test/testng%E4%BE%9D%E8%B5%96%E6%B5%8B%E8%AF%95%E5%92%8Cxml%E6%96%87%E4%BB%B6%E5%8F%82%E6%95%B0%E5%8C%96/"></a>
</article>
<article class="post-entry">
  <header class="entry-header">
    <h2>TestNGå¼‚å¸¸æµ‹è¯•</h2>
  </header>
  <section class="entry-content">
   <p> TestNGå¼‚å¸¸æµ‹è¯• 1. expectedExceptionæ–¹æ³•é¢„æœŸRuntimeExceptionå¼‚å¸¸ 2. expectedSuccessæ–¹æ³•é¢„æœŸRuntimeExceptionå¼‚å¸¸ 3. expectedExceptionç”¨ä¾‹ç»“æœæ˜¯å¤±è´¥çš„, expectedSuccessæ‰§è¡Œç”¨ä¾‹æˆåŠŸ(é¢„æœŸä¸ç»“æœä¸€è‡´) package com.actiger.test.expectedException; import org.testng.annotations.Test; public class ExpectedExcepiton { @Test(expectedExceptions = RuntimeException.class) public void expectedException(){ System.out.println(&#34;æœŸæœ›è¿è¡Œå¼‚å¸¸çš„ç»“æœ!&#34;); } @Test(expectedExceptions = RuntimeException.class) public void expectedSuccess(){ System.out.println(&#34;æœŸæœ›è¿è¡Œå¼‚å¸¸çš„ç»“æœ&#34;); throw new RuntimeException(); } }  ...</p>
  </section>
  <footer class="entry-footer">
    <time>June 12, 2019</time>
  </footer>
  <a class="entry-link" href="https://charles-one.github.io/actiger/test/testng%E5%BC%82%E5%B8%B8%E6%B5%8B%E8%AF%95/"></a>
</article>
<article class="post-entry">
  <header class="entry-header">
    <h2>TestNGä¸­æ³¨è§£Before Afteræ‰§è¡Œé¡ºåº</h2>
  </header>
  <section class="entry-content">
   <p>1. TestNGæ˜¯ä»€ä¹ˆ TestNGä¸€ç§å¼€æºè‡ªåŠ¨æµ‹è¯•æ¡†æ¶, ç›¸å½“çµæ´»çš„æ³¨è§£å’Œé…ç½®, è‡ªç”±æµ‹è¯•. 2. Before Afteræ‰§è¡Œé¡ºåº    æ³¨è§£ æè¿°     @BeforeSuite å¥—ä»¶, åœ¨æ‰€æœ‰æµ‹è¯•å¼€å§‹æ—¶è¿è¡Œ1æ¬¡   @BeforeTest åœ¨æ‰€æœ‰ç±»Classeså‰, BeforeSuiteåè¿è¡Œ1æ¬¡,æ³¨è§£çš„æ–¹æ³•å°†åœ¨testNG.xmlæ–‡ä»¶testæ ‡ç­¾å†…çš„æ‰€æœ‰ç±»æ–¹æ³•è¿è¡Œå‰æ‰§è¡Œ   @BeforeClass åœ¨å•ä¸ªclassç±»å‰æ‰§è¡Œ1æ¬¡   @BeforeGroups åœ¨æ‰€æœ‰é…ç½®æ–¹æ³•ç»„å‰è¿è¡Œ1æ¬¡   @BeforeMethod åœ¨å•ä¸ªé…ç½®æ–¹æ³•å‰è¿è¡Œ   @AfterMethod åœ¨å•ä¸ªé…ç½®æ–¹æ³•åè¿è¡Œ   @AfterGroups åœ¨æ‰€æœ‰é…ç½®æ–¹æ³•ç»„åè¿è¡Œ1æ¬¡   @AfterClass åœ¨å•ä¸ªclassç±»åæ‰§è¡Œ1æ¬¡   @AfterTest åœ¨æ‰€æœ‰ç±»Classeså, AfterSuiteå‰è¿è¡Œ1æ¬¡, æ³¨è§£çš„æ–¹æ³•å°†åœ¨testNG.xmlæ–‡ä»¶testæ ‡ç­¾å†…çš„æ‰€æœ‰ç±»æ–¹æ³•è¿è¡Œåæ‰§è¡Œã€‚   @AfterSuite å¥—ä»¶, åœ¨æ‰€æœ‰æµ‹è¯•ç»“æŸæ—¶è¿è¡Œ1æ¬¡    package com.actiger.test.suite; import org.testng.annotations.*; public class LoginTest { @Test(groups = {&#34;group&#34;}) public void loginTest(){ System....</p>
  </section>
  <footer class="entry-footer">
    <time>June 12, 2019</time>
  </footer>
  <a class="entry-link" href="https://charles-one.github.io/actiger/test/testng%E4%B8%AD%E6%B3%A8%E8%A7%A3before-after%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F/"></a>
</article>
<article class="post-entry">
  <header class="entry-header">
    <h2>Kubernetes Mariadb Mysql</h2>
  </header>
  <section class="entry-content">
   <p>1. åˆ›å»ºä¸€ä¸ªå¯¹å¤–å¯ä½¿ç”¨çš„æ•°æ®åº“, å¤–éƒ¨ç½‘ç»œè®¿é—®ä½¿ç”¨NodePort. podä½¿ç”¨åˆ°PV,PVC, Secret. 2. ä½¿ç”¨PVå’ŒPVCåˆ›å»ºç¡¬ç›˜, PersistentVolumeæŒä¹…å·, æŒä¹…å·ç”³è¯·.  åˆ›å»ºæŒä¹…å· pv-maria.yaml, è¿™é‡Œåœ¨nodeèŠ‚ç‚¹ä¸Šç”³è¯·hostPathç”³è¯·ç©ºé—´
apiVersion: v1 kind: PersistentVolume metadata: name: pv-hostpath spec: capacity: storage: 300Mi accessModes: - ReadWriteOnce hostPath: path: &#34;/root/mariadb&#34;  åˆ›å»ºæŒä¹…å·ç”³è¯·pvc-maria.yaml, ç”³è¯·å®¹é‡ä¸PVä¸€è‡´æ‰ä¼šç»‘å®šæˆåŠŸ.
apiVersion: v1 kind: PersistentVolumeClaim metadata: name: pvc-hostpath spec: accessModes: - ReadWriteOnce storageClassName: &#34;&#34; resources: requests: storage: 200Mi   3. ä¸ºæ•°æ®åº“rootå¯†ç åˆ›å»ºSecretæ–‡ä»¶mariapass.yml. rootå¯†ç éœ€è¦base64è½¬æ¢. apiVersion: v1 kind: Secret metadata: name: mariapass type: Opaque data: password: &lt;base64åŠ å¯†ä½ çš„rootå¯†ç &gt; username: cm9vdA==  4....</p>
  </section>
  <footer class="entry-footer">
    <time>June 5, 2019</time>
  </footer>
  <a class="entry-link" href="https://charles-one.github.io/actiger/docker/kubernetes-mariadb-mysql/"></a>
</article>
<article class="post-entry">
  <header class="entry-header">
    <h2>Kubernetes Ingress Nginx</h2>
  </header>
  <section class="entry-content">
   <p>1. ä¸ºäº†ç†è§£Nginx Ingress Controller, å…ˆçœ‹ä¸‹ä¸Šæµ·é•¿å®æ¥ç¦å£«çš„äººè„¸è¯†åˆ«ç”µæ¢¯, æ­£å¥½åœ¨è¿™ä¸Šç­ğŸ˜ƒ. æŠŠå¤–éƒ¨è¿›å…¥å†…éƒ¨äººè„¸è¯†åˆ«é—¸æœºç±»æ¯”ä¸ºNGINX Ingress Controller, åŒ¹é…åŸŸå, æŠŠäººæˆ–è¯·æ±‚åˆ†é…åˆ°å†…éƒ¨service. æŠŠäººè„¸è¯†åˆ«åˆ†é…ç”µæ¢¯ç±»æ¯”ä¸ºservice, serviceæ§åˆ¶ç€ä¸€ç»„ç”µæ¢¯, å°†äººæˆ–è¯·æ±‚åˆ†é…serviceä¸‹çš„ç”µæ¢¯ä¸­. æŠŠç”µæ¢¯ç±»æ¯”ä¸ºpod, åœ¨serviceä¸‹, å¤„ç†äººæˆ–è¯·æ±‚. 2. ä¸‹é¢æ˜¯é…ç½®æ–‡ä»¶, è§’è‰²ä¸serviceç»‘å®šçš„, ä½¿ç”¨åˆ°pvå’Œpvc, ä½¿ç”¨secret, æˆ‘çš„å‘½åç©ºé—´æ˜¯nginx-space  åˆ›å»ºname-space
kubectl create namespace nginx-space  è®¾ç½®é»˜è®¤è¿”å›å†…å®¹ default-backend.yaml
apiVersion: extensions/v1beta1 kind: Deployment metadata: name: default-http-backend labels: k8s-app: default-http-backend namespace: nginx-space spec: replicas: 1 template: metadata: labels: k8s-app: default-http-backend spec: terminationGracePeriodSeconds: 60 containers: - name: default-http-backend # Any image is permissable as long as: # 1. It serves a 404 page at / # 2....</p>
  </section>
  <footer class="entry-footer">
    <time>June 4, 2019</time>
  </footer>
  <a class="entry-link" href="https://charles-one.github.io/actiger/docker/kubernetes-nginx-ingress/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="/actiger/page/2/">â† Prev Page</a>
    <a class="next" href="/actiger/page/4/">Next Page â†’</a>
  </nav>
</footer></main>
<footer class="footer">
  <span>&copy; 2020 <a href="https://charles-one.github.io/actiger/">Actigerè·³è·³è™</a></span>
  <span>&middot;</span>
  <span><a href="https://gohugo.io/" rel="noopener" target="_blank">Powered by Hugoï¸ï¸</a>ï¸</span>
  <span>&middot;</span>
  <span><a href="https://github.com/nanxiaobei/hugo-paper" rel="noopener" target="_blank">Themeï¸ Paper</a></span>
</footer>
<script src="https://charles-one.github.io/actiger/highlight.min.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>
</body>
</html>

